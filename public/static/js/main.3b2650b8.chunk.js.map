{"version":3,"sources":["redux/reducers/projects.js","redux/reducers/index.js","redux/store.js","redux/actions/projects.js","components/Logout.jsx","components/UserBlock.jsx","assets/img/logo.svg","assets/img/brand_logo.svg","pages/Home.jsx","components/Loader.jsx","pages/Project/EditProject.jsx","pages/Project/CreateProject.jsx","pages/Project/Project.jsx","pages/Infrapwd/Infrapwd.jsx","pages/Infrapwd/CreateInfrapwd.jsx","pages/Infrapwd/EditInfrapwd.jsx","pages/User/User.jsx","pages/User/CreateUser.jsx","pages/User/EditUser.jsx","components/UserPasswords.jsx","pages/Dashboard/Dashboard.jsx","pages/Infralogins/Infralogins.jsx","pages/Changes/Changes.jsx","pages/Auth/Login.jsx","components/AuthLoader.jsx","App.jsx","index.js"],"names":["initialState","activeProject","projectLoading","projectsList","tableLoading","tableColumns","projectStatuses","tableData","tablePaginationConfig","searchParams","userInfo","pizzas","state","action","type","payload","rootReducer","combineReducers","projects","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","setUserInfo","Logout","onLogout","dispatch","useDispatch","history","useHistory","React","useState","isLoading","setIsLoading","onClick","axios","post","then","localStorage","clear","push","catch","console","log","finally","className","icon","ExportOutlined","loading","UserBlock","userName","getItem","menu","style","marginRight","fontWeight","overlay","trigger","Header","Layout","Content","Sider","Home","onSuccessLogout","collapsed","setCollapsed","role","useSelector","isResourceAvailable","collapsible","onCollapse","prev","src","brandLogo","logo","alt","theme","defaultSelectedKeys","mode","Item","ProjectOutlined","to","InfoCircleOutlined","UnorderedListOutlined","Divider","backgroundColor","UserOutlined","ContactsOutlined","padding","exact","path","Loader","antIcon","LoadingOutlined","fontSize","spin","textAlign","marginTop","indicator","EditProject","isLoadingPage","setIsLoadingPage","initValues","setInitvalues","targetKeys","setTargetKeys","userList","setUsertList","id","useParams","useEffect","get","data","users","length","projectUser","map","user","err","marginLeft","name","onFinish","values","newProject","put","message","success","rsp","error","initialValues","autoComplete","label","rules","required","Group","options","value","optionType","buttonStyle","dataSource","titles","onChange","rowKey","record","render","item","htmlType","CreateProject","setUserList","nextTargetKeys","Project","projectList","setProjectList","isAdmin","columns","title","dataIndex","key","ArrowRightOutlined","color","ArrowLeftOutlined","_","size","e","projectId","thisButton","currentTarget","innerText","delete","newProjectList","filter","project","onDeleteProject","width","pagination","hideOnSinglePage","Infrapwd","infrapwdList","setInfrapwdList","infrapwdId","newinfrapwdList","infrapwd","onDeleteInfrapwd","CreateInfrapwd","infrapwdUser","setInfrapwdUser","newData","newInfrapwd","optionFilterProp","placeholder","defaultValue","checkedValues","EditInfrapwd","User","userId","newUserList","onDeleteUser","newPwd","prompt","patch","userid","password","onResetPassword","CreateUser","setProjectsList","newUser","Password","EditUser","setInitValues","availableProjects","disabled","UserPasswords","username","span","extra","Dashboard","passwords","inProjects","in","outProjects","out","direction","href","scriptlink","rel","target","gutter","Object","keys","pwdtype","index","link","Infralogins","infraLogins","setInfraLogins","Changes","height","border","boxShadow","borderRadius","Login","onLogin","marginBottom","setItem","response","prefix","LockOutlined","AuthLoader","display","justifyContent","alignItems","App","isLoggedin","setIsLoggedin","checkAuth","setCheckAuth","defaults","baseURL","withCredentials","interceptors","use","status","location","reload","Promise","reject","ReactDOM","StrictMode","locale","ruRU","document","getElementById"],"mappings":"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","file":"static/js/main.3b2650b8.chunk.js","sourcesContent":["const initialState = {\r\n\tactiveProject: null,\r\n\tprojectLoading: false,\r\n\tprojectsList: null,\r\n\ttableLoading: false,\r\n\ttableColumns: [],\r\n\tprojectStatuses: [],\r\n\ttableData: null,\r\n\ttablePaginationConfig: null,\r\n\tsearchParams: null,\r\n\tuserInfo: null,\r\n};\r\n\r\nconst pizzas = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SET_USER_INFO':\r\n\t\t\treturn { ...state, userInfo: action.payload };\r\n\r\n\t\tcase 'SET_ACTIVE_PROJECT':\r\n\t\t\treturn { ...state, activeProject: action.payload };\r\n\r\n\t\tcase 'SET_PROJECT_LOADING':\r\n\t\t\treturn { ...state, projectLoading: action.payload };\r\n\r\n\t\tcase 'SET_PROJECTS_LIST':\r\n\t\t\treturn { ...state, projectsList: action.payload };\r\n\r\n\t\tcase 'SET_PROJECT_STATUSES':\r\n\t\t\treturn { ...state, projectStatuses: action.payload };\r\n\r\n\t\tcase 'SET_TABLE_LOADING':\r\n\t\t\treturn { ...state, tableLoading: action.payload };\r\n\r\n\t\tcase 'SET_TABLE_COLUMNS':\r\n\t\t\treturn { ...state, tableColumns: action.payload };\r\n\r\n\t\tcase 'SET_TABLE_DATA':\r\n\t\t\treturn { ...state, tableData: action.payload };\r\n\r\n\t\tcase 'RESET_TABLE_DATA':\r\n\t\t\treturn { ...state, tableData: null };\r\n\r\n\t\tcase 'RESET_STORAGE':\r\n\t\t\treturn { ...initialState };\r\n\r\n\t\tcase 'SET_TABLE_PAGINATIONCONFIG':\r\n\t\t\treturn { ...state, tablePaginationConfig: action.payload };\r\n\r\n\t\tcase 'SET_SEARCH_PARAMS':\r\n\t\t\treturn { ...state, searchParams: action.payload };\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default pizzas;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport projects from './projects';\r\n\r\nconst rootReducer = combineReducers({\r\n\tprojects,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import axios from 'axios';\r\nimport { message } from 'antd';\r\n\r\nexport const setUserInfo = (payload) => ({\r\n\ttype: 'SET_USER_INFO',\r\n\tpayload,\r\n});\r\n\r\nexport const setActiveProject = (payload) => ({\r\n\ttype: 'SET_ACTIVE_PROJECT',\r\n\tpayload,\r\n});\r\n\r\nexport const setProjectLoading = (payload) => ({\r\n\ttype: 'SET_PROJECT_LOADING',\r\n\tpayload,\r\n});\r\n\r\nexport const setProjectsList = (payload) => ({\r\n\ttype: 'SET_PROJECTS_LIST',\r\n\tpayload,\r\n});\r\n\r\nexport const setProjectStatuses = (payload) => ({\r\n\ttype: 'SET_PROJECT_STATUSES',\r\n\tpayload,\r\n});\r\n\r\nexport const setTableLoading = (payload) => ({\r\n\ttype: 'SET_TABLE_LOADING',\r\n\tpayload,\r\n});\r\n\r\nexport const setTableColumns = (payload) => ({\r\n\ttype: 'SET_TABLE_COLUMNS',\r\n\tpayload,\r\n});\r\n\r\nexport const setTableData = (payload) => ({\r\n\ttype: 'SET_TABLE_DATA',\r\n\tpayload,\r\n});\r\n\r\nexport const resetTableData = () => ({\r\n\ttype: 'RESET_TABLE_DATA',\r\n});\r\n\r\nexport const setTablePaginationConfig = (payload) => ({\r\n\ttype: 'SET_TABLE_PAGINATIONCONFIG',\r\n\tpayload,\r\n});\r\n\r\nexport const setSearchParams = (payload) => ({\r\n\ttype: 'SET_SEARCH_PARAMS',\r\n\tpayload,\r\n});\r\n\r\nexport const resetStorage = () => ({\r\n\ttype: 'RESET_STORAGE',\r\n});\r\n\r\nexport const fetchActiveProject = (parameters, activeProject) => (dispatch) => {\r\n\tconst params = parameters || { project: activeProject };\r\n\r\n\taxios\r\n\t\t.post('/project/search', params)\r\n\t\t.then(({ data }) => {\r\n\t\t\tconst tableConfig = {\r\n\t\t\t\ttotal: data.paginate.total,\r\n\t\t\t\tcurrent_page: data.paginate.current_page,\r\n\t\t\t\tper_page: data.paginate.per_page,\r\n\t\t\t};\r\n\r\n\t\t\tconst statuses = data.statuses.map((status) => {\r\n\t\t\t\treturn { value: status };\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(setTablePaginationConfig(tableConfig));\r\n\t\t\tdispatch(setTableData(data.paginate.data));\r\n\t\t\tdispatch(setProjectStatuses(statuses));\r\n\t\t})\r\n\t\t.catch(() => message.error('Ошибка запроса'))\r\n\t\t.finally(() => {\r\n\t\t\tdispatch(setTableLoading(false));\r\n\t\t\tdispatch(setProjectLoading(false));\r\n\t\t});\r\n};\r\n","import React from 'react';\r\nimport { Button } from 'antd';\r\nimport { ExportOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\n//Redux\r\nimport { useDispatch } from 'react-redux';\r\nimport { resetStorage } from '../redux/actions/projects';\r\n\r\nconst Logout = ({ onLogout }) => {\r\n\tconst dispatch = useDispatch();\r\n\tlet history = useHistory();\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\r\n\tconst handleLogout = () => {\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.post('/logout')\r\n\t\t\t.then(() => {\r\n\t\t\t\tlocalStorage.clear();\r\n\t\t\t\tonLogout();\r\n\t\t\t\tdispatch(resetStorage());\r\n\t\t\t\thistory.push('/');\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log('logout catch error'))\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\ttype=\"text\"\r\n\t\t\tonClick={handleLogout}\r\n\t\t\tclassName=\"btn-logout\"\r\n\t\t\ticon={<ExportOutlined />}\r\n\t\t\tloading={isLoading}>\r\n\t\t\tВыйти\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nexport default Logout;\r\n","import React from 'react';\r\nimport { Avatar, Menu, Dropdown } from 'antd';\r\nimport Logout from './Logout';\r\n\r\nconst UserBlock = ({ onLogout }) => {\r\n\tconst userName = localStorage.getItem('auth_name');\r\n\r\n\tconst menu = (\r\n\t\t<Menu>\r\n\t\t\t{/* <Menu.Item key=\"settings\">Настройки</Menu.Item> */}\r\n\t\t\t{/* <Menu.Divider /> */}\r\n\t\t\t<Logout onLogout={onLogout} />\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{userName ? <span style={{ marginRight: 8, fontWeight: 600 }}>{userName}</span> : null}\r\n\r\n\t\t\t<Dropdown overlay={menu} trigger={['click']}>\r\n\t\t\t\t<Avatar className=\"user-avatar\">{userName ? userName[0] : '-'}</Avatar>\r\n\t\t\t</Dropdown>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserBlock;\r\n","export default __webpack_public_path__ + \"static/media/logo.c7696728.svg\";","export default __webpack_public_path__ + \"static/media/brand_logo.e9581c6a.svg\";","import React from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { Switch, Route, Link, Redirect } from 'react-router-dom';\r\nimport {\r\n\tDashboard,\r\n\tProject,\r\n\tEditProject,\r\n\tCreateProject,\r\n\tEditUser,\r\n\tCreateUser,\r\n\tUser,\r\n\tEditInfrapwd,\r\n\tCreateInfrapwd,\r\n\tInfrapwd,\r\n\tInfralogins,\r\n\tChanges,\r\n} from './index';\r\nimport {\r\n\tProjectOutlined,\r\n\tUserOutlined,\r\n\tUnorderedListOutlined,\r\n\tContactsOutlined,\r\n\tInfoCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport UserBlock from '../components/UserBlock';\r\n\r\nimport logo from '../assets/img/logo.svg';\r\nimport brandLogo from '../assets/img/brand_logo.svg';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nconst Home = ({ onSuccessLogout }) => {\r\n\t// let location = useLocation();\r\n\tconst [collapsed, setCollapsed] = React.useState(false);\r\n\r\n\tconst { userInfo } = useSelector(({ projects }) => projects);\r\n\r\n\t// const isAdmin = userInfo.role === 0;\r\n\tconst role = userInfo.role;\r\n\tconst isResourceAvailable = role === 1 || role === 0;\r\n\r\n\tconst onCollapse = () => {\r\n\t\tsetCollapsed((prev) => !prev);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Layout>\r\n\t\t\t<Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\r\n\t\t\t\t<div className=\"brand-logo\">\r\n\t\t\t\t\t{/* <Link to=\"/\"> */}\r\n\t\t\t\t\t<img src={collapsed ? brandLogo : logo} alt=\"logo\" />\r\n\t\t\t\t\t{/* </Link> */}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Menu className=\"menu\" theme=\"dark\" defaultSelectedKeys={['/dash']} mode=\"inline\">\r\n\t\t\t\t\t<Menu.Item key=\"/dash\" icon={<ProjectOutlined />}>\r\n\t\t\t\t\t\t<Link to=\"/dash\">Дашборд</Link>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item key=\"/changes\" icon={<InfoCircleOutlined />}>\r\n\t\t\t\t\t\t<Link to=\"/changes\">Изменения</Link>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//Оператор\r\n\t\t\t\t\t\trole === 2 && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"/schedule\" icon={<UnorderedListOutlined />}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/schedule\">График</Link>\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//Админ или супервайзер\r\n\t\t\t\t\t\tisResourceAvailable && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Menu.Divider style={{ backgroundColor: '#002140' }} />\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"/projects\" icon={<UnorderedListOutlined />}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/projects\">Проекты</Link>\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"/users\" icon={<UserOutlined />}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/users\">Пользователи</Link>\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"/infrapwds\" icon={<ContactsOutlined />}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/infrapwds\">Доступы в ICC</Link>\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Menu>\r\n\t\t\t</Sider>\r\n\t\t\t<Layout>\r\n\t\t\t\t<Header>\r\n\t\t\t\t\t<UserBlock onLogout={onSuccessLogout} />\r\n\t\t\t\t</Header>\r\n\t\t\t\t<Content\r\n\t\t\t\t\tclassName=\"site-layout\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tpadding: '0 32px',\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/dash\">\r\n\t\t\t\t\t\t\t<Dashboard />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path=\"/changes\">\r\n\t\t\t\t\t\t\t<Changes />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path=\"/infralogins\">\r\n\t\t\t\t\t\t\t<Infralogins />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//Оператор\r\n\t\t\t\t\t\t\trole === 2 && (\r\n\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/schedule\">\r\n\t\t\t\t\t\t\t\t\t\t<div>В разработке...</div>\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//Админ или супервайзер\r\n\t\t\t\t\t\t\tisResourceAvailable && (\r\n\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/projects\">\r\n\t\t\t\t\t\t\t\t\t\t<Project />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/projects/:id/edit\">\r\n\t\t\t\t\t\t\t\t\t\t<EditProject />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/projects/create\">\r\n\t\t\t\t\t\t\t\t\t\t<CreateProject />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/users\">\r\n\t\t\t\t\t\t\t\t\t\t<User />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/users/:id/edit\">\r\n\t\t\t\t\t\t\t\t\t\t<EditUser />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/users/create\">\r\n\t\t\t\t\t\t\t\t\t\t<CreateUser />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/infrapwds\">\r\n\t\t\t\t\t\t\t\t\t\t<Infrapwd />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/infrapwds/:id/edit\">\r\n\t\t\t\t\t\t\t\t\t\t<EditInfrapwd />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/infrapwds/create\">\r\n\t\t\t\t\t\t\t\t\t\t<CreateInfrapwd />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Content>\r\n\t\t\t</Layout>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nconst Loader = () => {\r\n\tconst antIcon = <LoadingOutlined style={{ fontSize: 28 }} spin />;\r\n\r\n\treturn (\r\n\t\t<div style={{ textAlign: 'center', marginTop: '2px' }}>\r\n\t\t\t<Spin indicator={antIcon} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Form, Input, Button, Radio, message, Transfer } from 'antd';\r\nimport axios from 'axios';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst EditProject = () => {\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [isLoadingPage, setIsLoadingPage] = React.useState(true);\r\n\tconst [initValues, setInitvalues] = React.useState({});\r\n\tconst [targetKeys, setTargetKeys] = React.useState([]);\r\n\tconst [userList, setUsertList] = React.useState([]);\r\n\tconst { id } = useParams();\r\n\r\n\tconst projectTypes = [\r\n\t\t{ label: 'Входящий', value: 0 },\r\n\t\t{ label: 'Исходящий', value: 1 },\r\n\t];\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios.get('/users').then(({ data }) => {\r\n\t\t\tsetUsertList(data);\r\n\t\t});\r\n\t}, []);\r\n\r\n\t// let history = useHistory();\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(`/projects/${id}/edit`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetInitvalues(data);\r\n\t\t\t\tif (data.users.length > 0) {\r\n\t\t\t\t\tconst projectUser = data.users.map((user) => user.id);\r\n\t\t\t\t\tsetTargetKeys(projectUser);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetIsLoadingPage(false);\r\n\t\t\t});\r\n\t}, [id]);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tsetIsLoading(true);\r\n\t\tconst newProject = { ...values, users: targetKeys };\r\n\t\taxios\r\n\t\t\t.put(`/projects/${id}`, newProject)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t\t// history.push('/projects');\r\n\t\t\t})\r\n\t\t\t.catch((rsp) => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\tconst onChangeUsers = (value) => {\r\n\t\tsetTargetKeys(value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Редактировать проект</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/projects'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoadingPage ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\tinitialValues={initValues}\r\n\t\t\t\t\t\t\tautoComplete=\"off\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Тип\"\r\n\t\t\t\t\t\t\t\tname=\"type\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Укажите тип проекта!' }]}>\r\n\t\t\t\t\t\t\t\t<Radio.Group\r\n\t\t\t\t\t\t\t\t\toptions={projectTypes}\r\n\t\t\t\t\t\t\t\t\toptionType=\"button\"\r\n\t\t\t\t\t\t\t\t\tbuttonStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item label=\"Ссылка на скрипт\" name=\"scriptlink\">\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item label=\"Пользователи\">\r\n\t\t\t\t\t\t\t\t<Transfer\r\n\t\t\t\t\t\t\t\t\tdataSource={userList}\r\n\t\t\t\t\t\t\t\t\ttitles={['Все', 'Кто знает']}\r\n\t\t\t\t\t\t\t\t\ttargetKeys={targetKeys}\r\n\t\t\t\t\t\t\t\t\tonChange={onChangeUsers}\r\n\t\t\t\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\t\t\t\trender={(item) => item.name}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\t\t\tОбновить проект\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditProject;\r\n","import React from 'react';\r\nimport { Form, Input, Button, Radio, Transfer, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst CreateProject = () => {\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [userList, setUserList] = React.useState([]);\r\n\tconst [targetKeys, setTargetKeys] = React.useState([]);\r\n\r\n\tconst projectTypes = [\r\n\t\t{ label: 'Входящий', value: 0 },\r\n\t\t{ label: 'Исходящий', value: 1 },\r\n\t];\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios.get('/users').then(({ data }) => {\r\n\t\t\tsetUserList(data);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tconst newProject = { ...values, users: targetKeys };\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.post('/projects', newProject)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch((rsp) => {\r\n\t\t\t\tconsole.log(rsp);\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\tconst onChangeUsers = (nextTargetKeys) => {\r\n\t\tsetTargetKeys(nextTargetKeys);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Новый проект</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/projects'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t<Form name=\"basic\" onFinish={onFinish} autoComplete=\"off\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Тип\"\r\n\t\t\t\t\t\tname=\"type\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Укажите тип проекта!' }]}>\r\n\t\t\t\t\t\t<Radio.Group\r\n\t\t\t\t\t\t\toptions={projectTypes}\r\n\t\t\t\t\t\t\toptionType=\"button\"\r\n\t\t\t\t\t\t\tbuttonStyle=\"solid\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item label=\"Ссылка на скрипт\" name=\"scriptlink\">\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item label=\"Пользователи\">\r\n\t\t\t\t\t\t<Transfer\r\n\t\t\t\t\t\t\tdataSource={userList}\r\n\t\t\t\t\t\t\ttitles={['Все', 'Кто знает']}\r\n\t\t\t\t\t\t\ttargetKeys={targetKeys}\r\n\t\t\t\t\t\t\tonChange={onChangeUsers}\r\n\t\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\t\trender={(item) => item.name}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\tДобавить проект\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CreateProject;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Table, Space, Button, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { ArrowLeftOutlined, ArrowRightOutlined } from '@ant-design/icons';\r\n\r\nimport Loader from '../../components/Loader';\r\n\r\nconst Project = () => {\r\n\tconst [projectList, setProjectList] = React.useState([]);\r\n\tconst [isLoading, setIsLoading] = React.useState(true);\r\n\r\n\tconst { userInfo } = useSelector(({ projects }) => projects);\r\n\r\n\tconst isAdmin = userInfo.role === 0;\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/projects')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetProjectList(data);\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t}, []);\r\n\r\n\tconst onDeleteProject = (e, projectId) => {\r\n\t\tconst thisButton = e.currentTarget;\r\n\t\tthisButton.innerText = 'Удаляю';\r\n\r\n\t\taxios\r\n\t\t\t.delete(`/projects/${projectId}`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newProjectList = projectList.filter((project) => project.id !== projectId);\r\n\t\t\t\tsetProjectList(newProjectList);\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthisButton.innerText = 'Удалить';\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Проект',\r\n\t\t\tdataIndex: 'name',\r\n\t\t\tkey: 'name',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Тип',\r\n\t\t\tdataIndex: 'type',\r\n\t\t\tkey: 'type',\r\n\t\t\trender: (type) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{!type ? (\r\n\t\t\t\t\t\t\t<ArrowLeftOutlined style={{ fontSize: '16px', color: '#52c41a' }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<ArrowRightOutlined style={{ fontSize: '16px', color: '#1890ff' }} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ссылка на скрипт',\r\n\t\t\tdataIndex: 'scriptlink',\r\n\t\t\tkey: 'scriptlink',\r\n\t\t},\r\n\t\t// {\r\n\t\t// \ttitle: 'Доступен для',\r\n\t\t// \tdataIndex: 'users',\r\n\t\t// \tkey: 'users',\r\n\t\t// \trender: (users) => {\r\n\t\t// \t\tif (users.length) {\r\n\t\t// \t\t\treturn (\r\n\t\t// \t\t\t\t<>\r\n\t\t// \t\t\t\t\t{users.map((user) => (\r\n\t\t// \t\t\t\t\t\t<Tag color=\"blue\" key={user.id}>\r\n\t\t// \t\t\t\t\t\t\t{user.name}\r\n\t\t// \t\t\t\t\t\t</Tag>\r\n\t\t// \t\t\t\t\t))}\r\n\t\t// \t\t\t\t</>\r\n\t\t// \t\t\t);\r\n\t\t// \t\t}\r\n\t\t// \t},\r\n\t\t// },\r\n\t\t{\r\n\t\t\ttitle: 'Действия',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Link to={`/projects/${record.id}/edit`}>Ред</Link>\r\n\t\t\t\t\t{isAdmin && (\r\n\t\t\t\t\t\t<Button type=\"link\" onClick={(e) => onDeleteProject(e, record.id)}>\r\n\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Список проектов</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/projects/create'}>Добавить проект</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdataSource={projectList}\r\n\t\t\t\t\t\tpagination={{ hideOnSinglePage: true }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Project;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Table, Space, Button, Tag, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst Infrapwd = () => {\r\n\tconst [infrapwdList, setInfrapwdList] = React.useState([]);\r\n\tconst [isLoading, setIsLoading] = React.useState(true);\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/infrapwds')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetInfrapwdList(data);\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t}, []);\r\n\r\n\tconst onDeleteInfrapwd = (e, infrapwdId) => {\r\n\t\tconst thisButton = e.currentTarget;\r\n\t\tthisButton.innerText = 'Удаляю';\r\n\r\n\t\taxios\r\n\t\t\t.delete(`/infrapwds/${infrapwdId}`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newinfrapwdList = infrapwdList.filter(\r\n\t\t\t\t\t(infrapwd) => infrapwd.id !== infrapwdId,\r\n\t\t\t\t);\r\n\t\t\t\tsetInfrapwdList(newinfrapwdList);\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthisButton.innerText = 'Удалить';\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Отображаемое имя',\r\n\t\t\tdataIndex: 'displayname',\r\n\t\t\tkey: 'displayname',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Логин',\r\n\t\t\tdataIndex: 'username',\r\n\t\t\tkey: 'username',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Пароль',\r\n\t\t\tdataIndex: 'password',\r\n\t\t\tkey: 'password',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Доступен для',\r\n\t\t\tdataIndex: 'users',\r\n\t\t\tkey: 'users',\r\n\t\t\trender: (users) => {\r\n\t\t\t\tif (users.length) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{users.map((user) => (\r\n\t\t\t\t\t\t\t\t<Tag color=\"blue\" key={user.id}>\r\n\t\t\t\t\t\t\t\t\t{user.name}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Действия',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Link to={`/infrapwds/${record.id}/edit`}>Ред</Link>\r\n\t\t\t\t\t<Button type=\"link\" onClick={(e) => onDeleteInfrapwd(e, record.id)}>\r\n\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Список логинов ICC</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/infrapwds/create'}>Добавить логин</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdataSource={infrapwdList}\r\n\t\t\t\t\t\tpagination={{ hideOnSinglePage: true }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Infrapwd;\r\n","import React from 'react';\r\nimport { Form, Input, Button, Select, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst CreateInfrapwd = () => {\r\n\tconst [userList, setUserList] = React.useState([]);\r\n\tconst [infrapwdUser, setInfrapwdUser] = React.useState([]);\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/users')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newData = data.map((user) => {\r\n\t\t\t\t\treturn { label: user.name, value: user.id };\r\n\t\t\t\t});\r\n\t\t\t\tsetUserList(newData);\r\n\t\t\t})\r\n\t\t\t.finally(() => console.log('users fetched'));\r\n\t}, []);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tconst newInfrapwd = { ...values, users: infrapwdUser };\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.post('/infrapwds', newInfrapwd)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\tconst onChangeUsers = (checkedValues) => {\r\n\t\tsetInfrapwdUser(checkedValues);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Новый логин</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/infrapwds'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t<Form name=\"basic\" onFinish={onFinish} autoComplete=\"off\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Отображаемое имя\"\r\n\t\t\t\t\t\tname=\"displayname\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Логин\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите логин!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Пароль\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите пароль!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item label=\"Пользователи\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\toptionFilterProp=\"label\"\r\n\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\tplaceholder=\"Выбрать пользователей\"\r\n\t\t\t\t\t\t\tdefaultValue={infrapwdUser}\r\n\t\t\t\t\t\t\tonChange={onChangeUsers}\r\n\t\t\t\t\t\t\toptions={userList}></Select>\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\tДобавить логин\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CreateInfrapwd;\r\n","import React from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Form, Input, Button, message, Select } from 'antd';\r\nimport axios from 'axios';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst EditInfrapwd = () => {\r\n\tconst [userList, setUsertList] = React.useState([]);\r\n\tconst [infrapwdUser, setInfrapwdUser] = React.useState([]);\r\n\tconst [isLoadingPage, setIsLoadingPage] = React.useState(true);\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [initValues, setInitvalues] = React.useState({});\r\n\tconst { id } = useParams();\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/users')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newData = data.map((user) => {\r\n\t\t\t\t\treturn { label: user.name, value: user.id };\r\n\t\t\t\t});\r\n\t\t\t\tsetUsertList(newData);\r\n\t\t\t})\r\n\t\t\t.finally(() => console.log('users fetched at edit page'));\r\n\t}, []);\r\n\r\n\t// let history = useHistory();\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(`/infrapwds/${id}/edit`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetInitvalues(data);\r\n\t\t\t\tif (data.users.length > 0) {\r\n\t\t\t\t\tconst infrapwdUser = data.users.map((user) => user.id);\r\n\t\t\t\t\tsetInfrapwdUser(infrapwdUser);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetIsLoadingPage(false);\r\n\t\t\t});\r\n\t}, [id]);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tsetIsLoading(true);\r\n\t\tconst newInfrapwd = { ...values, users: infrapwdUser };\r\n\t\taxios\r\n\t\t\t.put(`/infrapwds/${id}`, newInfrapwd)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t\t// history.push('/projects');\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\tconst onChangeUsers = (value) => {\r\n\t\tsetInfrapwdUser(value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Редактировать логин</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/infrapwds'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoadingPage ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\tinitialValues={initValues}\r\n\t\t\t\t\t\t\tautoComplete=\"off\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Отображаемое имя\"\r\n\t\t\t\t\t\t\t\tname=\"displayname\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Логин\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите логин!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Пароль\"\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите пароль!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item label=\"Пользователи\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\toptionFilterProp=\"label\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Выбрать пользователей\"\r\n\t\t\t\t\t\t\t\t\tdefaultValue={infrapwdUser}\r\n\t\t\t\t\t\t\t\t\tonChange={onChangeUsers}\r\n\t\t\t\t\t\t\t\t\toptions={userList}></Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\t\t\tОбновить логин\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditInfrapwd;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Table, Space, Button, Tag, message } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst User = () => {\r\n\tconst [userList, setUserList] = React.useState([]);\r\n\tconst [isLoading, setIsLoading] = React.useState(true);\r\n\r\n\tconst { userInfo } = useSelector(({ projects }) => projects);\r\n\r\n\tconst isAdmin = userInfo.role === 0;\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/users')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetUserList(data);\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t}, []);\r\n\r\n\tconst onDeleteUser = (e, userId) => {\r\n\t\tconst thisButton = e.currentTarget;\r\n\t\tthisButton.innerText = 'Удаляю';\r\n\r\n\t\taxios\r\n\t\t\t.delete(`/users/${userId}`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newUserList = userList.filter((user) => user.id !== userId);\r\n\t\t\t\tsetUserList(newUserList);\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthisButton.innerText = 'Удалить';\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst onResetPassword = (userId) => {\r\n\t\tconst newPwd = prompt('Введите новый пароль');\r\n\r\n\t\tif (newPwd) {\r\n\t\t\tconsole.log(userId, newPwd);\r\n\r\n\t\t\taxios\r\n\t\t\t\t.patch(`/user/changepwd`, { userid: userId, password: newPwd })\r\n\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\tmessage.success(data.message);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => message.error('Ошибка при смене пароля'));\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Пользователь',\r\n\t\t\tdataIndex: 'name',\r\n\t\t\tkey: 'name',\r\n\t\t\trender: (_, record) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{record.role === 0 ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{record.name} <Tag>admin</Tag>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : record.role === 1 ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{record.name} <Tag>supervisor</Tag>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\trecord.name\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Логин',\r\n\t\t\tdataIndex: 'username',\r\n\t\t\tkey: 'username',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Действия',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Link to={`/users/${record.id}/edit`}>Ред</Link>\r\n\t\t\t\t\t{isAdmin && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Button type=\"link\" onClick={(e) => onDeleteUser(e, record.id)}>\r\n\t\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button type=\"link\" onClick={() => onResetPassword(record.id)}>\r\n\t\t\t\t\t\t\t\tСброс пароля\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Список пользователей</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/users/create'}>Добавить пользователя</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdataSource={userList}\r\n\t\t\t\t\t\tpagination={{ hideOnSinglePage: true }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport { Form, Input, Button, Radio, Transfer, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst CreateUser = () => {\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [targetKeys, setTargetKeys] = React.useState([]);\r\n\tconst [projectsList, setProjectsList] = React.useState([]);\r\n\r\n\tconst roles = [\r\n\t\t{ label: 'Админ', value: 0 },\r\n\t\t{ label: 'Супервайзер', value: 1 },\r\n\t\t{ label: 'Оператор', value: 2 },\r\n\t];\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios.get('/projects').then(({ data }) => {\r\n\t\t\tsetProjectsList(data);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst onProjectChange = (nextTargetKeys) => {\r\n\t\tsetTargetKeys(nextTargetKeys);\r\n\t};\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tconst newUser = { ...values, projects: targetKeys };\r\n\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.post('/users', newUser)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Новый пользователь</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/users'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tinitialValues={{ role: 2 }}\r\n\t\t\t\t\tautoComplete=\"off\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Логин\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите логин!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Пароль в ЛК\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите пароль!' }]}>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Пароль в Infra\"\r\n\t\t\t\t\t\tname=\"infrapwd\"\r\n\t\t\t\t\t\trules={[{ required: false, message: 'Введите пароль в Infra!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item label=\"Пароль в RocketChat\" name=\"rocketpwd\">\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item label=\"Пароль в TeamPass\" name=\"teampasspwd\">\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Роль\"\r\n\t\t\t\t\t\tname=\"role\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Укажите роль!' }]}>\r\n\t\t\t\t\t\t<Radio.Group options={roles} optionType=\"button\" buttonStyle=\"solid\" />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item label=\"Доступные проекты\">\r\n\t\t\t\t\t\t<Transfer\r\n\t\t\t\t\t\t\tdataSource={projectsList}\r\n\t\t\t\t\t\t\ttitles={['Все', 'Доступные']}\r\n\t\t\t\t\t\t\ttargetKeys={targetKeys}\r\n\t\t\t\t\t\t\tonChange={onProjectChange}\r\n\t\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\t\trender={(item) => item.name}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\tДобавить пользователя\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CreateUser;\r\n","import React from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { Form, Input, Button, Radio, Transfer, message } from 'antd';\r\nimport axios from 'axios';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst EditUser = () => {\r\n\tconst [isLoadingPage, setIsLoadingPage] = React.useState(true);\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [initValues, setInitValues] = React.useState({});\r\n\tconst [targetKeys, setTargetKeys] = React.useState([]);\r\n\tconst [projectsList, setProjectsList] = React.useState([]);\r\n\tconst { id } = useParams();\r\n\r\n\tconst { userInfo } = useSelector(({ projects }) => projects);\r\n\r\n\tconst isAdmin = userInfo.role === 0;\r\n\r\n\tconst roles = [\r\n\t\t{ label: 'Админ', value: 0 },\r\n\t\t{ label: 'Супервайзер', value: 1 },\r\n\t\t{ label: 'Оператор', value: 2 },\r\n\t];\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(`/users/${id}/edit`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetInitValues(data.user);\r\n\t\t\t\tconst availableProjects = data.user.projects.map((project) => project.id);\r\n\t\t\t\tsetTargetKeys(availableProjects);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetIsLoadingPage(false);\r\n\t\t\t});\r\n\t}, [id]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios.get('/projects').then(({ data }) => {\r\n\t\t\tsetProjectsList(data);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst onProjectChange = (nextTargetKeys) => {\r\n\t\tsetTargetKeys(nextTargetKeys);\r\n\t};\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tsetIsLoading(true);\r\n\t\tconst newUser = { ...values, projects: targetKeys };\r\n\t\taxios\r\n\t\t\t.put(`/users/${id}`, newUser)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Редактировать пользователя</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/users'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoadingPage ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\tinitialValues={initValues}\r\n\t\t\t\t\t\t\tautoComplete=\"off\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t\t\t<Input disabled={!isAdmin} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Логин\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите логин!' }]}>\r\n\t\t\t\t\t\t\t\t<Input disabled={!isAdmin} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Пароль в RocketChat\"\r\n\t\t\t\t\t\t\t\tname=\"rocketpwd\"\r\n\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t{ required: true, message: 'Введите пароль в RocketChat!' },\r\n\t\t\t\t\t\t\t\t]}>\r\n\t\t\t\t\t\t\t\t<Input disabled={!isAdmin} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Пароль в TeamPass\"\r\n\t\t\t\t\t\t\t\tname=\"teampasspwd\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите пароль в TeamPass!' }]}>\r\n\t\t\t\t\t\t\t\t<Input disabled={!isAdmin} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Роль\"\r\n\t\t\t\t\t\t\t\tname=\"role\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Укажите роль!' }]}>\r\n\t\t\t\t\t\t\t\t<Radio.Group\r\n\t\t\t\t\t\t\t\t\toptions={roles}\r\n\t\t\t\t\t\t\t\t\toptionType=\"button\"\r\n\t\t\t\t\t\t\t\t\tbuttonStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t\tdisabled={!isAdmin}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item label=\"Доступные проекты\" name=\"projects\">\r\n\t\t\t\t\t\t\t\t<Transfer\r\n\t\t\t\t\t\t\t\t\tdataSource={projectsList}\r\n\t\t\t\t\t\t\t\t\ttitles={['Все', 'Доступные']}\r\n\t\t\t\t\t\t\t\t\ttargetKeys={targetKeys}\r\n\t\t\t\t\t\t\t\t\tonChange={onProjectChange}\r\n\t\t\t\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\t\t\t\trender={(item) => item.name}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\t\t\tОбновить пользователя\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditUser;\r\n","import React from 'react';\r\nimport { Col, Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst UserPasswords = ({ title, password, username }) => {\r\n\treturn (\r\n\t\t<Col span={12}>\r\n\t\t\t<Card\r\n\t\t\t\ttitle={`Доступ в ${title}`}\r\n\t\t\t\textra={title === 'InfraCallCenter' ? <Link to=\"/infralogins\">Все</Link> : null}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Логин:</b> {username}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Пароль:</b> {password}\r\n\t\t\t\t</div>\r\n\t\t\t</Card>\r\n\t\t</Col>\r\n\t);\r\n};\r\n\r\nexport default UserPasswords;\r\n","import React from 'react';\r\nimport { Row, Col, Card, Space } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\n// import { PlusOutlined, UnorderedListOutlined } from '@ant-design/icons';\r\nimport UserPasswords from '../../components/UserPasswords';\r\n// import { Link } from 'react-router-dom';\r\n\r\nconst Dashboard = () => {\r\n\tconst { userInfo } = useSelector(({ projects }) => projects);\r\n\r\n\tconst passwords = userInfo.passwords;\r\n\tconst username = userInfo.username;\r\n\tconst inProjects = userInfo.projects.in;\r\n\tconst outProjects = userInfo.projects.out;\r\n\r\n\tconst links = [\r\n\t\t{\r\n\t\t\ttitle: 'Заявить о проблеме',\r\n\t\t\tlink: 'http://script.kolocall.com/includes/iticket',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'TeamPass',\r\n\t\t\tlink: 'http://192.168.137.103/teampass',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Статистика',\r\n\t\t\tlink: 'http://192.168.137.101/infracallcenterstatistica/ru/agent.asp',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Обратная связь',\r\n\t\t\tlink: 'https://docs.google.com/forms/d/e/1FAIpQLScRFy32-HM2aDESYfgWBysLXMZ3wa6E-EPpc1-RfQIsDePL4w/viewform',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Админраздел',\r\n\t\t\tlink: 'http://admin.kolocall.com',\r\n\t\t},\r\n\t];\r\n\r\n\t// const role = userInfo.role;\r\n\t// const isResourceShown = role === 0 || role === 1;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* {isResourceShown > 1000 && (\r\n\t\t\t\t<Row gutter={22} style={{ marginTop: 22 }}>\r\n\t\t\t\t\t<Col span={3}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\ttitle=\"Пользователи\"\r\n\t\t\t\t\t\t\tclassName=\"card-resource\"\r\n\t\t\t\t\t\t\textra={<div>25</div>}\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t<Link to=\"/users\" key=\"list\">\r\n\t\t\t\t\t\t\t\t\t<UnorderedListOutlined />\r\n\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t<Link to=\"/users/create\" key=\"create\">\r\n\t\t\t\t\t\t\t\t\t<PlusOutlined />\r\n\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t]}></Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={3}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\ttitle=\"Проекты\"\r\n\t\t\t\t\t\t\tclassName=\"card-resource\"\r\n\t\t\t\t\t\t\textra={<div>49</div>}\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t<Link to=\"/projects\" key=\"list\">\r\n\t\t\t\t\t\t\t\t\t<UnorderedListOutlined />\r\n\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t<Link to=\"/projects/create\" key=\"create\">\r\n\t\t\t\t\t\t\t\t\t<PlusOutlined />\r\n\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t]}></Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={3}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\ttitle=\"Логины ICC\"\r\n\t\t\t\t\t\t\tclassName=\"card-resource\"\r\n\t\t\t\t\t\t\textra={<div>36</div>}\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t<Link to=\"/infrapwds\" key=\"list\">\r\n\t\t\t\t\t\t\t\t\t<UnorderedListOutlined />\r\n\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t<Link to=\"/infrapwds/create\" key=\"create\">\r\n\t\t\t\t\t\t\t\t\t<PlusOutlined />\r\n\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t]}></Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t)} */}\r\n\t\t\t<div className=\"parent\" style={{ marginTop: 22 }}>\r\n\t\t\t\t<div className=\"div1\">\r\n\t\t\t\t\t<Card title=\"Входящие проекты\" className=\"projects-list\">\r\n\t\t\t\t\t\t<Space direction=\"vertical\">\r\n\t\t\t\t\t\t\t{inProjects.map((project) => (\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tkey={project.id}\r\n\t\t\t\t\t\t\t\t\thref={project.scriptlink}\r\n\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t{project.name}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"div2\">\r\n\t\t\t\t\t<Row gutter={[22, 22]}>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t<Card title=\"Подключено проектов\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<b>Входящих:</b> {inProjects.length}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<b>Исходящих:</b> {outProjects.length}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t{Object.keys(passwords).map((pwdtype, index) => (\r\n\t\t\t\t\t\t\t<UserPasswords\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\tpwdtype === 'infrapwd'\r\n\t\t\t\t\t\t\t\t\t\t? 'InfraCallCenter'\r\n\t\t\t\t\t\t\t\t\t\t: pwdtype === 'rocketpwd'\r\n\t\t\t\t\t\t\t\t\t\t? 'RocketChat'\r\n\t\t\t\t\t\t\t\t\t\t: 'TeamPass'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\tpassword={passwords[pwdtype]}\r\n\t\t\t\t\t\t\t\tusername={username}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"div3\">\r\n\t\t\t\t\t<Card title=\"Полезные ссылки\">\r\n\t\t\t\t\t\t<Space direction=\"vertical\">\r\n\t\t\t\t\t\t\t{links.map((link) => (\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tkey={link.title}\r\n\t\t\t\t\t\t\t\t\thref={link.link}\r\n\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t{link.title}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"div4\"></div>\r\n\t\t\t\t<div className=\"div5\"></div>\r\n\t\t\t\t<div className=\"div6\"></div>\r\n\t\t\t\t<div className=\"div7\"></div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Table } from 'antd';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst Infralogins = () => {\r\n\tconst [infraLogins, setInfraLogins] = React.useState();\r\n\r\n\tconst fetchUserLogins = () => {\r\n\t\taxios.post('/infralogins').then(({ data }) => {\r\n\t\t\tsetInfraLogins(data);\r\n\t\t});\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchUserLogins();\r\n\t}, []);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Отображаемое имя',\r\n\t\t\tdataIndex: 'displayname',\r\n\t\t\tkey: 'displayname',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Логин',\r\n\t\t\tdataIndex: 'username',\r\n\t\t\tkey: 'username',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Пароль',\r\n\t\t\tdataIndex: 'password',\r\n\t\t\tkey: 'password',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Список твоих логинов в Infra</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/dash'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\">\r\n\t\t\t\t{!infraLogins ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdataSource={infraLogins}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Infralogins;\r\n","import React from 'react';\r\n\r\nconst Changes = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<iframe\r\n\t\t\t\tsrc=\"http://script.kolocall.com/?project=changes_overall\"\r\n\t\t\t\ttitle=\"changes\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmarginTop: 22,\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\theight: '87vh',\r\n\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\tboxShadow: '0 8px 24px -2px rgba(0, 0, 0, 0.05)',\r\n\t\t\t\t\tborderRadius: 4,\r\n\t\t\t\t}}\r\n\t\t\t/>{' '}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Changes;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport brandLogo from '../../assets/img/brand_logo.svg';\r\n//Redux\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUserInfo } from '../../redux/actions/projects';\r\n\r\nconst Login = ({ onLogin }) => {\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tlet history = useHistory();\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.get('/csrf-cookie')\r\n\t\t\t.then(() => {\r\n\t\t\t\taxios\r\n\t\t\t\t\t.post('/login', values)\r\n\t\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\t\tlocalStorage.setItem('auth_name', data.name);\r\n\t\t\t\t\t\tdispatch(setUserInfo(data));\r\n\t\t\t\t\t\tonLogin();\r\n\t\t\t\t\t\thistory.push('/dash');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => message.error(error.response.data.message));\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"login\">\r\n\t\t\t<img\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\twidth: '80px',\r\n\t\t\t\t\tmarginBottom: 24,\r\n\t\t\t\t}}\r\n\t\t\t\tsrc={brandLogo}\r\n\t\t\t\talt=\"barndlogo\"\r\n\t\t\t/>\r\n\t\t\t<Form className=\"login-form\" onFinish={onFinish} autoComplete=\"off\" size=\"large\">\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Введите логин!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tprefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n\t\t\t\t\t\tplaceholder=\"Логин\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Введите пароль!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input.Password\r\n\t\t\t\t\t\tprefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n\t\t\t\t\t\tplaceholder=\"Пароль\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tclassName=\"login-form-button\"\r\n\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\tВойти\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nconst AuthLoader = () => {\r\n\tconst antIcon = <LoadingOutlined style={{ fontSize: 44 }} spin />;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\theight: '100%',\r\n\t\t\t}}>\r\n\t\t\t<Spin size=\"large\" indicator={antIcon} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AuthLoader;\r\n","import React from 'react';\r\nimport { Login, Home } from './pages';\r\nimport axios from 'axios';\r\n//Redux\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUserInfo } from './redux/actions/projects';\r\n\r\nimport AuthLoader from './components/AuthLoader';\r\n\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [isLoggedin, setIsLoggedin] = React.useState(false);\r\n\tconst [checkAuth, setCheckAuth] = React.useState(false);\r\n\r\n\tconst onSuccessLogin = () => {\r\n\t\tsetIsLoggedin(true);\r\n\t};\r\n\r\n\tconst onSuccessLogout = () => {\r\n\t\tsetIsLoggedin(false);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.post('me')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tdispatch(setUserInfo(data));\r\n\t\t\t\tsetCheckAuth(true);\r\n\t\t\t\tsetIsLoggedin(true);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tsetCheckAuth(true);\r\n\t\t\t\tsetIsLoggedin(false);\r\n\t\t\t}); // eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tif (!isLoggedin) {\r\n\t\tif (checkAuth) {\r\n\t\t\treturn <Login onLogin={onSuccessLogin} />;\r\n\t\t}\r\n\t\treturn <AuthLoader />;\r\n\t}\r\n\r\n\treturn <Home onSuccessLogout={onSuccessLogout} />;\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport axios from 'axios';\nimport { ConfigProvider } from 'antd';\nimport ruRU from 'antd/lib/locale/ru_RU';\n\nimport App from './App';\n\n// axios.defaults.baseURL = 'http://192.168.137.150:8000/api';\naxios.defaults.baseURL = 'http://oper.kolocall.com/api';\naxios.defaults.withCredentials = true;\naxios.interceptors.response.use(\n\t(response) => response,\n\t(error) => {\n\t\tif (error.response.status === 401 || error.response.status === 419) {\n\t\t\tif (localStorage.getItem('auth_name')) {\n\t\t\t\tlocalStorage.clear();\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\n\t\t\treturn Promise.reject();\n\t\t}\n\n\t\treturn Promise.reject(error);\n\t},\n);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ConfigProvider locale={ruRU}>\n\t\t\t<Router>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<App />\n\t\t\t\t</Provider>\n\t\t\t</Router>\n\t\t</ConfigProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}