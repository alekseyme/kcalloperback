(this.webpackJsonpkolocall_admin=this.webpackJsonpkolocall_admin||[]).push([[0],{289:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(34),r=a.n(s),i=a(26),l=a(35),j=a(96),o=a(171),b=a(24),d={activeProject:null,projectLoading:!1,projectsList:null,tableLoading:!1,tableColumns:[],projectStatuses:[],tableData:null,tablePaginationConfig:null,searchParams:null,userInfo:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_INFO":return Object(b.a)(Object(b.a)({},e),{},{userInfo:t.payload});case"SET_ACTIVE_PROJECT":return Object(b.a)(Object(b.a)({},e),{},{activeProject:t.payload});case"SET_PROJECT_LOADING":return Object(b.a)(Object(b.a)({},e),{},{projectLoading:t.payload});case"SET_PROJECTS_LIST":return Object(b.a)(Object(b.a)({},e),{},{projectsList:t.payload});case"SET_PROJECT_STATUSES":return Object(b.a)(Object(b.a)({},e),{},{projectStatuses:t.payload});case"SET_TABLE_LOADING":return Object(b.a)(Object(b.a)({},e),{},{tableLoading:t.payload});case"SET_TABLE_COLUMNS":return Object(b.a)(Object(b.a)({},e),{},{tableColumns:t.payload});case"SET_TABLE_DATA":return Object(b.a)(Object(b.a)({},e),{},{tableData:t.payload});case"RESET_TABLE_DATA":return Object(b.a)(Object(b.a)({},e),{},{tableData:null});case"RESET_STORAGE":return Object(b.a)({},d);case"SET_TABLE_PAGINATIONCONFIG":return Object(b.a)(Object(b.a)({},e),{},{tablePaginationConfig:t.payload});case"SET_SEARCH_PARAMS":return Object(b.a)(Object(b.a)({},e),{},{searchParams:t.payload});default:return e}},O=Object(j.b)({projects:u}),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.c,h=Object(j.d)(O,x(Object(j.a)(o.a))),m=a(20),p=a.n(m),f=a(19),g=a(180),y=a.n(g),v=a(14),S=a(296),I=a(41),T=a(30),w=a(307),k=a(187),E=a(308),N=a(309),C=a(310),_=a(92),L=a(301),F=a(53),P=a(306),R=a(185),q=function(e){return{type:"SET_USER_INFO",payload:e}},A=a(2),K=function(e){var t=e.onLogout,a=Object(l.b)(),n=Object(T.g)(),s=c.a.useState(!1),r=Object(v.a)(s,2),i=r[0],j=r[1];return Object(A.jsx)(F.a,{type:"text",onClick:function(){j(!0),p.a.post("/logout").then((function(){localStorage.clear(),t(),a({type:"RESET_STORAGE"}),n.push("/")})).catch((function(){return console.log("logout catch error")})).finally((function(){return j(!1)}))},className:"btn-logout",icon:Object(A.jsx)(P.a,{}),loading:i,children:"\u0412\u044b\u0439\u0442\u0438"})},D=function(e){var t=e.onLogout,a=localStorage.getItem("auth_name"),n=Object(A.jsx)(I.a,{children:Object(A.jsx)(K,{onLogout:t})});return Object(A.jsxs)(A.Fragment,{children:[a?Object(A.jsx)("span",{style:{marginRight:8,fontWeight:600},children:a}):null,Object(A.jsx)(_.a,{overlay:n,trigger:["click"],children:Object(A.jsx)(L.a,{className:"user-avatar",children:a?a[0]:"-"})})]})},z=a.p+"static/media/logo.c7696728.svg",G=a.p+"static/media/brand_logo.e9581c6a.svg",B=S.a.Header,V=S.a.Content,J=S.a.Sider,M=function(e){var t=e.onSuccessLogout,a=c.a.useState(!1),n=Object(v.a)(a,2),s=n[0],r=n[1],j=Object(l.c)((function(e){return e.projects})).userInfo.role,o=1===j||0===j;return Object(A.jsxs)(S.a,{children:[Object(A.jsxs)(J,{collapsible:!0,collapsed:s,onCollapse:function(){r((function(e){return!e}))},children:[Object(A.jsx)("div",{className:"brand-logo",children:Object(A.jsx)("img",{src:s?G:z,alt:"logo"})}),Object(A.jsxs)(I.a,{className:"menu",theme:"dark",defaultSelectedKeys:["/dash"],mode:"inline",children:[Object(A.jsx)(I.a.Item,{icon:Object(A.jsx)(w.a,{}),children:Object(A.jsx)(i.b,{to:"/dash",children:"\u0414\u0430\u0448\u0431\u043e\u0440\u0434"})},"/dash"),Object(A.jsx)(I.a.Item,{icon:Object(A.jsx)(k.a,{}),children:Object(A.jsx)(i.b,{to:"/changes",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})},"/changes"),2===j&&Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(I.a.Item,{icon:Object(A.jsx)(E.a,{}),children:Object(A.jsx)(i.b,{to:"/schedule",children:"\u0413\u0440\u0430\u0444\u0438\u043a"})},"/schedule")}),o&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(I.a.Divider,{style:{backgroundColor:"#002140"}}),Object(A.jsx)(I.a.Item,{icon:Object(A.jsx)(E.a,{}),children:Object(A.jsx)(i.b,{to:"/projects",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"})},"/projects"),Object(A.jsx)(I.a.Item,{icon:Object(A.jsx)(N.a,{}),children:Object(A.jsx)(i.b,{to:"/users",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})},"/users"),Object(A.jsx)(I.a.Item,{icon:Object(A.jsx)(C.a,{}),children:Object(A.jsx)(i.b,{to:"/infrapwds",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u044b \u0432 ICC"})},"/infrapwds")]})]})]}),Object(A.jsxs)(S.a,{children:[Object(A.jsx)(B,{children:Object(A.jsx)(D,{onLogout:t})}),Object(A.jsx)(V,{className:"site-layout",style:{padding:"0 32px"},children:Object(A.jsxs)(T.d,{children:[Object(A.jsx)(T.b,{exact:!0,path:"/dash",children:Object(A.jsx)(pe,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/changes",children:Object(A.jsx)(ge,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/infralogins",children:Object(A.jsx)(fe,{})}),2===j&&Object(A.jsx)(T.d,{children:Object(A.jsx)(T.b,{exact:!0,path:"/schedule",children:Object(A.jsx)("div",{children:"\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435..."})})}),o&&Object(A.jsxs)(T.d,{children:[Object(A.jsx)(T.b,{exact:!0,path:"/projects",children:Object(A.jsx)(se,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/projects/:id/edit",children:Object(A.jsx)($,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/projects/create",children:Object(A.jsx)(ee,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/users",children:Object(A.jsx)(be,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/users/:id/edit",children:Object(A.jsx)(ue,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/users/create",children:Object(A.jsx)(de,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/infrapwds",children:Object(A.jsx)(ie,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/infrapwds/:id/edit",children:Object(A.jsx)(oe,{})}),Object(A.jsx)(T.b,{exact:!0,path:"/infrapwds/create",children:Object(A.jsx)(je,{})}),Object(A.jsx)(T.a,{to:"/"})]}),Object(A.jsx)(T.a,{to:"/"})]})})]})]})},U=a(299),H=a(182),X=a(127),Q=a(300),W=a(176),Y=a(63),Z=function(){var e=Object(A.jsx)(Y.a,{style:{fontSize:28},spin:!0});return Object(A.jsx)("div",{style:{textAlign:"center",marginTop:"2px"},children:Object(A.jsx)(W.a,{indicator:e})})},$=function(){var e=c.a.useState(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],s=c.a.useState(!0),r=Object(v.a)(s,2),l=r[0],j=r[1],o=c.a.useState({}),d=Object(v.a)(o,2),u=d[0],O=d[1],x=c.a.useState([]),h=Object(v.a)(x,2),m=h[0],f=h[1],g=c.a.useState([]),y=Object(v.a)(g,2),S=y[0],I=y[1],w=Object(T.h)().id;c.a.useEffect((function(){p.a.get("/users").then((function(e){var t=e.data;I(t)}))}),[]),c.a.useEffect((function(){p.a.get("/projects/".concat(w,"/edit")).then((function(e){var t=e.data;if(O(t),t.users.length>0){var a=t.users.map((function(e){return e.id}));f(a)}})).catch((function(e){return console.log(e)})).finally((function(){j(!1)}))}),[w]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/projects",children:"\u041d\u0430\u0437\u0430\u0434"})})]}),Object(A.jsx)("div",{className:"box",style:{marginTop:20},children:l?Object(A.jsx)(Z,{}):Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(U.a,{name:"basic",onFinish:function(e){n(!0);var t=Object(b.a)(Object(b.a)({},e),{},{users:m});p.a.put("/projects/".concat(w),t).then((function(e){var t=e.data;R.b.success(t.message)})).catch((function(e){R.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})).finally((function(){return n(!1)}))},initialValues:u,autoComplete:"off",children:[Object(A.jsx)(U.a.Item,{label:"\u0418\u043c\u044f",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u0422\u0438\u043f",name:"type",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430!"}],children:Object(A.jsx)(X.a.Group,{options:[{label:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439",value:0},{label:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439",value:1}],optionType:"button",buttonStyle:"solid"})}),Object(A.jsx)(U.a.Item,{label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043a\u0440\u0438\u043f\u0442",name:"scriptlink",children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",children:Object(A.jsx)(Q.a,{dataSource:S,titles:["\u0412\u0441\u0435","\u041a\u0442\u043e \u0437\u043d\u0430\u0435\u0442"],targetKeys:m,onChange:function(e){f(e)},rowKey:function(e){return e.id},render:function(e){return e.name}})}),Object(A.jsx)(F.a,{className:"btn-resource",type:"primary",htmlType:"submit",loading:a,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"})]})})})]})},ee=function(){var e=c.a.useState(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],s=c.a.useState([]),r=Object(v.a)(s,2),l=r[0],j=r[1],o=c.a.useState([]),d=Object(v.a)(o,2),u=d[0],O=d[1];c.a.useEffect((function(){p.a.get("/users").then((function(e){var t=e.data;j(t)}))}),[]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/projects",children:"\u041d\u0430\u0437\u0430\u0434"})})]}),Object(A.jsx)("div",{className:"box",style:{marginTop:20},children:Object(A.jsxs)(U.a,{name:"basic",onFinish:function(e){var t=Object(b.a)(Object(b.a)({},e),{},{users:u});n(!0),p.a.post("/projects",t).then((function(e){var t=e.data;console.log(t),R.b.success(t.message)})).catch((function(e){console.log(e),R.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})).finally((function(){return n(!1)}))},autoComplete:"off",children:[Object(A.jsx)(U.a.Item,{label:"\u0418\u043c\u044f",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u0422\u0438\u043f",name:"type",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430!"}],children:Object(A.jsx)(X.a.Group,{options:[{label:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439",value:0},{label:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439",value:1}],optionType:"button",buttonStyle:"solid"})}),Object(A.jsx)(U.a.Item,{label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043a\u0440\u0438\u043f\u0442",name:"scriptlink",children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",children:Object(A.jsx)(Q.a,{dataSource:l,titles:["\u0412\u0441\u0435","\u041a\u0442\u043e \u0437\u043d\u0430\u0435\u0442"],targetKeys:u,onChange:function(e){O(e)},rowKey:function(e){return e.id},render:function(e){return e.name}})}),Object(A.jsx)(F.a,{className:"btn-resource",type:"primary",htmlType:"submit",loading:a,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"})]})})]})},te=a(302),ae=a(297),ne=a(304),ce=a(305),se=function(){var e=c.a.useState([]),t=Object(v.a)(e,2),a=t[0],n=t[1],s=c.a.useState(!0),r=Object(v.a)(s,2),j=r[0],o=r[1],b=0===Object(l.c)((function(e){return e.projects})).userInfo.role;c.a.useEffect((function(){p.a.get("/projects").then((function(e){var t=e.data;n(t)})).finally((function(){return o(!1)}))}),[]);var d=[{title:"\u041f\u0440\u043e\u0435\u043a\u0442",dataIndex:"name",key:"name"},{title:"\u0422\u0438\u043f",dataIndex:"type",key:"type",render:function(e){return Object(A.jsx)(A.Fragment,{children:e?Object(A.jsx)(ce.a,{style:{fontSize:"16px",color:"#1890ff"}}):Object(A.jsx)(ne.a,{style:{fontSize:"16px",color:"#52c41a"}})})}},{title:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043a\u0440\u0438\u043f\u0442",dataIndex:"scriptlink",key:"scriptlink"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"action",render:function(e,t){return Object(A.jsxs)(te.b,{size:"middle",children:[Object(A.jsx)(i.b,{to:"/projects/".concat(t.id,"/edit"),children:"\u0420\u0435\u0434"}),b&&Object(A.jsx)(F.a,{type:"link",onClick:function(e){return function(e,t){var c=e.currentTarget;c.innerText="\u0423\u0434\u0430\u043b\u044f\u044e",p.a.delete("/projects/".concat(t)).then((function(e){var c=e.data,s=a.filter((function(e){return e.id!==t}));n(s),R.b.success(c.message)})).catch((function(e){return console.log(e)})).finally((function(){c.innerText="\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}))}(e,t.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}}];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/projects/create",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"})})]}),Object(A.jsx)("div",{className:"box",style:{marginTop:20},children:j?Object(A.jsx)(Z,{}):Object(A.jsx)(ae.a,{style:{width:"100%"},rowKey:function(e){return e.id},columns:d,dataSource:a,pagination:{hideOnSinglePage:!0}})})]})},re=a(303),ie=function(){var e=c.a.useState([]),t=Object(v.a)(e,2),a=t[0],n=t[1],s=c.a.useState(!0),r=Object(v.a)(s,2),l=r[0],j=r[1];c.a.useEffect((function(){p.a.get("/infrapwds").then((function(e){var t=e.data;n(t)})).finally((function(){return j(!1)}))}),[]);var o=[{title:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f",dataIndex:"displayname",key:"displayname"},{title:"\u041b\u043e\u0433\u0438\u043d",dataIndex:"username",key:"username"},{title:"\u041f\u0430\u0440\u043e\u043b\u044c",dataIndex:"password",key:"password"},{title:"\u0414\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0434\u043b\u044f",dataIndex:"users",key:"users",render:function(e){if(e.length)return Object(A.jsx)(A.Fragment,{children:e.map((function(e){return Object(A.jsx)(re.a,{color:"blue",children:e.name},e.id)}))})}},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"action",render:function(e,t){return Object(A.jsxs)(te.b,{size:"middle",children:[Object(A.jsx)(i.b,{to:"/infrapwds/".concat(t.id,"/edit"),children:"\u0420\u0435\u0434"}),Object(A.jsx)(F.a,{type:"link",onClick:function(e){return function(e,t){var c=e.currentTarget;c.innerText="\u0423\u0434\u0430\u043b\u044f\u044e",p.a.delete("/infrapwds/".concat(t)).then((function(e){var c=e.data,s=a.filter((function(e){return e.id!==t}));n(s),R.b.success(c.message)})).catch((function(e){return console.log(e)})).finally((function(){c.innerText="\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}))}(e,t.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}}];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043b\u043e\u0433\u0438\u043d\u043e\u0432 ICC"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/infrapwds/create",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043d"})})]}),Object(A.jsx)("div",{className:"box",style:{marginTop:20},children:l?Object(A.jsx)(Z,{}):Object(A.jsx)(ae.a,{style:{width:"100%"},rowKey:function(e){return e.id},columns:o,dataSource:a,pagination:{hideOnSinglePage:!0}})})]})},le=a(109),je=function(){var e=c.a.useState([]),t=Object(v.a)(e,2),a=t[0],n=t[1],s=c.a.useState([]),r=Object(v.a)(s,2),l=r[0],j=r[1],o=c.a.useState(!1),d=Object(v.a)(o,2),u=d[0],O=d[1];c.a.useEffect((function(){p.a.get("/users").then((function(e){var t=e.data.map((function(e){return{label:e.name,value:e.id}}));n(t)})).finally((function(){return console.log("users fetched")}))}),[]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u041d\u043e\u0432\u044b\u0439 \u043b\u043e\u0433\u0438\u043d"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/infrapwds",children:"\u041d\u0430\u0437\u0430\u0434"})})]}),Object(A.jsx)("div",{className:"box",style:{marginTop:20},children:Object(A.jsxs)(U.a,{name:"basic",onFinish:function(e){var t=Object(b.a)(Object(b.a)({},e),{},{users:l});O(!0),p.a.post("/infrapwds",t).then((function(e){var t=e.data;R.b.success(t.message)})).catch((function(){R.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})).finally((function(){return O(!1)}))},autoComplete:"off",children:[Object(A.jsx)(U.a.Item,{label:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f",name:"displayname",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041b\u043e\u0433\u0438\u043d",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",children:Object(A.jsx)(le.a,{mode:"multiple",optionFilterProp:"label",style:{width:"100%"},placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",defaultValue:l,onChange:function(e){j(e)},options:a})}),Object(A.jsx)(F.a,{className:"btn-resource",type:"primary",htmlType:"submit",loading:u,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043d"})]})})]})},oe=function(){var e=c.a.useState([]),t=Object(v.a)(e,2),a=t[0],n=t[1],s=c.a.useState([]),r=Object(v.a)(s,2),l=r[0],j=r[1],o=c.a.useState(!0),d=Object(v.a)(o,2),u=d[0],O=d[1],x=c.a.useState(!1),h=Object(v.a)(x,2),m=h[0],f=h[1],g=c.a.useState({}),y=Object(v.a)(g,2),S=y[0],I=y[1],w=Object(T.h)().id;c.a.useEffect((function(){p.a.get("/users").then((function(e){var t=e.data.map((function(e){return{label:e.name,value:e.id}}));n(t)})).finally((function(){return console.log("users fetched at edit page")}))}),[]),c.a.useEffect((function(){p.a.get("/infrapwds/".concat(w,"/edit")).then((function(e){var t=e.data;if(I(t),t.users.length>0){var a=t.users.map((function(e){return e.id}));j(a)}})).catch((function(e){return console.log(e)})).finally((function(){O(!1)}))}),[w]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043d"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/infrapwds",children:"\u041d\u0430\u0437\u0430\u0434"})})]}),Object(A.jsx)("div",{className:"box",style:{marginTop:20},children:u?Object(A.jsx)(Z,{}):Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(U.a,{name:"basic",onFinish:function(e){f(!0);var t=Object(b.a)(Object(b.a)({},e),{},{users:l});p.a.put("/infrapwds/".concat(w),t).then((function(e){var t=e.data;R.b.success(t.message)})).catch((function(){R.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})).finally((function(){return f(!1)}))},initialValues:S,autoComplete:"off",children:[Object(A.jsx)(U.a.Item,{label:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f",name:"displayname",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041b\u043e\u0433\u0438\u043d",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",children:Object(A.jsx)(le.a,{mode:"multiple",optionFilterProp:"label",style:{width:"100%"},placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",defaultValue:l,onChange:function(e){j(e)},options:a})}),Object(A.jsx)(F.a,{className:"btn-resource",type:"primary",htmlType:"submit",loading:m,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043d"})]})})})]})},be=function(){var e=c.a.useState([]),t=Object(v.a)(e,2),a=t[0],n=t[1],s=c.a.useState(!0),r=Object(v.a)(s,2),j=r[0],o=r[1],b=0===Object(l.c)((function(e){return e.projects})).userInfo.role;c.a.useEffect((function(){p.a.get("/users").then((function(e){var t=e.data;n(t)})).finally((function(){return o(!1)}))}),[]);var d=[{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",dataIndex:"name",key:"name",render:function(e,t){return Object(A.jsx)(A.Fragment,{children:0===t.role?Object(A.jsxs)(A.Fragment,{children:[t.name," ",Object(A.jsx)(re.a,{children:"admin"})]}):1===t.role?Object(A.jsxs)(A.Fragment,{children:[t.name," ",Object(A.jsx)(re.a,{children:"supervisor"})]}):t.name})}},{title:"\u041b\u043e\u0433\u0438\u043d",dataIndex:"username",key:"username"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"action",render:function(e,t){return Object(A.jsxs)(te.b,{size:"middle",children:[Object(A.jsx)(i.b,{to:"/users/".concat(t.id,"/edit"),children:"\u0420\u0435\u0434"}),b&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(F.a,{type:"link",onClick:function(e){return function(e,t){var c=e.currentTarget;c.innerText="\u0423\u0434\u0430\u043b\u044f\u044e",p.a.delete("/users/".concat(t)).then((function(e){var c=e.data,s=a.filter((function(e){return e.id!==t}));n(s),R.b.success(c.message)})).catch((function(e){return console.log(e)})).finally((function(){c.innerText="\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}))}(e,t.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(A.jsx)(F.a,{type:"link",onClick:function(){return function(e){var t=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c");t&&(console.log(e,t),p.a.patch("/user/changepwd",{userid:e,password:t}).then((function(e){var t=e.data;R.b.success(t.message)})).catch((function(){return R.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043c\u0435\u043d\u0435 \u043f\u0430\u0440\u043e\u043b\u044f")})))}(t.id)},children:"\u0421\u0431\u0440\u043e\u0441 \u043f\u0430\u0440\u043e\u043b\u044f"})]})]})}}];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/users/create",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})})]}),Object(A.jsx)("div",{className:"box",style:{marginTop:20},children:j?Object(A.jsx)(Z,{}):Object(A.jsx)(ae.a,{style:{width:"100%"},rowKey:function(e){return e.id},columns:d,dataSource:a,pagination:{hideOnSinglePage:!0}})})]})},de=function(){var e=c.a.useState(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],s=c.a.useState([]),r=Object(v.a)(s,2),l=r[0],j=r[1],o=c.a.useState([]),d=Object(v.a)(o,2),u=d[0],O=d[1];c.a.useEffect((function(){p.a.get("/projects").then((function(e){var t=e.data;O(t)}))}),[]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/users",children:"\u041d\u0430\u0437\u0430\u0434"})})]}),Object(A.jsx)("div",{className:"box",style:{marginTop:20},children:Object(A.jsxs)(U.a,{name:"basic",onFinish:function(e){var t=Object(b.a)(Object(b.a)({},e),{},{projects:l});n(!0),p.a.post("/users",t).then((function(e){var t=e.data;R.b.success(t.message)})).catch((function(){R.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})).finally((function(){return n(!1)}))},initialValues:{role:2},autoComplete:"off",children:[Object(A.jsx)(U.a.Item,{label:"\u0418\u043c\u044f",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041b\u043e\u0433\u0438\u043d",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c \u0432 \u041b\u041a",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(A.jsx)(H.a.Password,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c \u0432 Infra",name:"infrapwd",rules:[{required:!1,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0432 Infra!"}],children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c \u0432 RocketChat",name:"rocketpwd",children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c \u0432 TeamPass",name:"teampasspwd",children:Object(A.jsx)(H.a,{})}),Object(A.jsx)(U.a.Item,{label:"\u0420\u043e\u043b\u044c",name:"role",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0440\u043e\u043b\u044c!"}],children:Object(A.jsx)(X.a.Group,{options:[{label:"\u0410\u0434\u043c\u0438\u043d",value:0},{label:"\u0421\u0443\u043f\u0435\u0440\u0432\u0430\u0439\u0437\u0435\u0440",value:1},{label:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440",value:2}],optionType:"button",buttonStyle:"solid"})}),Object(A.jsx)(U.a.Item,{label:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b",children:Object(A.jsx)(Q.a,{dataSource:u,titles:["\u0412\u0441\u0435","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435"],targetKeys:l,onChange:function(e){j(e)},rowKey:function(e){return e.id},render:function(e){return e.name}})}),Object(A.jsx)(F.a,{className:"btn-resource",type:"primary",htmlType:"submit",loading:a,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})})]})},ue=function(){var e=c.a.useState(!0),t=Object(v.a)(e,2),a=t[0],n=t[1],s=c.a.useState(!1),r=Object(v.a)(s,2),j=r[0],o=r[1],d=c.a.useState({}),u=Object(v.a)(d,2),O=u[0],x=u[1],h=c.a.useState([]),m=Object(v.a)(h,2),f=m[0],g=m[1],y=c.a.useState([]),S=Object(v.a)(y,2),I=S[0],w=S[1],k=Object(T.h)().id,E=0===Object(l.c)((function(e){return e.projects})).userInfo.role;c.a.useEffect((function(){p.a.get("/users/".concat(k,"/edit")).then((function(e){var t=e.data;x(t.user);var a=t.user.projects.map((function(e){return e.id}));g(a)})).catch((function(e){return console.log(e)})).finally((function(){n(!1)}))}),[k]),c.a.useEffect((function(){p.a.get("/projects").then((function(e){var t=e.data;w(t)}))}),[]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/users",children:"\u041d\u0430\u0437\u0430\u0434"})})]}),Object(A.jsx)("div",{className:"box",style:{marginTop:20},children:a?Object(A.jsx)(Z,{}):Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(U.a,{name:"basic",onFinish:function(e){o(!0);var t=Object(b.a)(Object(b.a)({},e),{},{projects:f});p.a.put("/users/".concat(k),t).then((function(e){var t=e.data;R.b.success(t.message)})).catch((function(){R.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})).finally((function(){return o(!1)}))},initialValues:O,autoComplete:"off",children:[Object(A.jsx)(U.a.Item,{label:"\u0418\u043c\u044f",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f!"}],children:Object(A.jsx)(H.a,{disabled:!E})}),Object(A.jsx)(U.a.Item,{label:"\u041b\u043e\u0433\u0438\u043d",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d!"}],children:Object(A.jsx)(H.a,{disabled:!E})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c \u0432 RocketChat",name:"rocketpwd",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0432 RocketChat!"}],children:Object(A.jsx)(H.a,{disabled:!E})}),Object(A.jsx)(U.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c \u0432 TeamPass",name:"teampasspwd",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0432 TeamPass!"}],children:Object(A.jsx)(H.a,{disabled:!E})}),Object(A.jsx)(U.a.Item,{label:"\u0420\u043e\u043b\u044c",name:"role",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0440\u043e\u043b\u044c!"}],children:Object(A.jsx)(X.a.Group,{options:[{label:"\u0410\u0434\u043c\u0438\u043d",value:0},{label:"\u0421\u0443\u043f\u0435\u0440\u0432\u0430\u0439\u0437\u0435\u0440",value:1},{label:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440",value:2}],optionType:"button",buttonStyle:"solid",disabled:!E})}),Object(A.jsx)(U.a.Item,{label:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b",name:"projects",children:Object(A.jsx)(Q.a,{dataSource:I,titles:["\u0412\u0441\u0435","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435"],targetKeys:f,onChange:function(e){g(e)},rowKey:function(e){return e.id},render:function(e){return e.name}})}),Object(A.jsx)(F.a,{className:"btn-resource",type:"primary",htmlType:"submit",loading:j,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})})})]})},Oe=a(298),xe=a(98),he=a(56),me=function(e){var t=e.title,a=e.password,n=e.username;return Object(A.jsx)(he.a,{span:12,children:Object(A.jsxs)(Oe.a,{title:"\u0414\u043e\u0441\u0442\u0443\u043f \u0432 ".concat(t),extra:"InfraCallCenter"===t?Object(A.jsx)(i.b,{to:"/infralogins",children:"\u0412\u0441\u0435"}):null,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"\u041b\u043e\u0433\u0438\u043d:"})," ",n]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"\u041f\u0430\u0440\u043e\u043b\u044c:"})," ",a]})]})})},pe=function(){var e=Object(l.c)((function(e){return e.projects})).userInfo,t=e.passwords,a=e.username,n=e.projects.in,c=e.projects.out;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"parent",style:{marginTop:22},children:[Object(A.jsx)("div",{className:"div1",children:Object(A.jsx)(Oe.a,{title:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b",className:"projects-list",children:Object(A.jsx)(te.b,{direction:"vertical",children:n.map((function(e){return Object(A.jsx)("a",{href:e.scriptlink,rel:"noreferrer",target:"_blank",children:e.name},e.id)}))})})}),Object(A.jsx)("div",{className:"div2",children:Object(A.jsxs)(xe.a,{gutter:[22,22],children:[Object(A.jsx)(he.a,{span:12,children:Object(A.jsxs)(Oe.a,{title:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0445:"})," ",n.length]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0445:"})," ",c.length]})]})}),Object.keys(t).map((function(e,n){return Object(A.jsx)(me,{title:"infrapwd"===e?"InfraCallCenter":"rocketpwd"===e?"RocketChat":"TeamPass",password:t[e],username:a},n)}))]})}),Object(A.jsx)("div",{className:"div3",children:Object(A.jsx)(Oe.a,{title:"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438",children:Object(A.jsx)(te.b,{direction:"vertical",children:[{title:"\u0417\u0430\u044f\u0432\u0438\u0442\u044c \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435",link:"http://script.kolocall.com/includes/iticket"},{title:"TeamPass",link:"http://192.168.137.103/teampass"},{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",link:"http://192.168.137.101/infracallcenterstatistica/ru/agent.asp"},{title:"\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c",link:"https://docs.google.com/forms/d/e/1FAIpQLScRFy32-HM2aDESYfgWBysLXMZ3wa6E-EPpc1-RfQIsDePL4w/viewform"},{title:"\u0410\u0434\u043c\u0438\u043d\u0440\u0430\u0437\u0434\u0435\u043b",link:"http://admin.kolocall.com"}].map((function(e){return Object(A.jsx)("a",{href:e.link,rel:"noreferrer",target:"_blank",children:e.title},e.title)}))})})}),Object(A.jsx)("div",{className:"div4"}),Object(A.jsx)("div",{className:"div5"}),Object(A.jsx)("div",{className:"div6"}),Object(A.jsx)("div",{className:"div7"})]})})},fe=function(){var e=c.a.useState(),t=Object(v.a)(e,2),a=t[0],n=t[1];c.a.useEffect((function(){p.a.post("/infralogins").then((function(e){var t=e.data;n(t)}))}),[]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"controls box",style:{padding:"14px 25px"},children:[Object(A.jsx)("b",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0432\u043e\u0438\u0445 \u043b\u043e\u0433\u0438\u043d\u043e\u0432 \u0432 Infra"}),Object(A.jsx)(F.a,{type:"primary",style:{marginLeft:"auto"},children:Object(A.jsx)(i.b,{to:"/dash",children:"\u041d\u0430\u0437\u0430\u0434"})})]}),Object(A.jsx)("div",{className:"box",children:a?Object(A.jsx)(ae.a,{size:"middle",rowKey:function(e){return e.id},columns:[{title:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f",dataIndex:"displayname",key:"displayname"},{title:"\u041b\u043e\u0433\u0438\u043d",dataIndex:"username",key:"username"},{title:"\u041f\u0430\u0440\u043e\u043b\u044c",dataIndex:"password",key:"password"}],dataSource:a}):Object(A.jsx)(Z,{})})]})},ge=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("iframe",{src:"http://script.kolocall.com/?project=changes_overall",title:"changes",style:{marginTop:22,width:"100%",height:"87vh",border:"none",boxShadow:"0 8px 24px -2px rgba(0, 0, 0, 0.05)",borderRadius:4}})," "]})},ye=a(311),ve=function(e){var t=e.onLogin,a=c.a.useState(!1),n=Object(v.a)(a,2),s=n[0],r=n[1],i=Object(l.b)(),j=Object(T.g)();return Object(A.jsxs)("div",{className:"login",children:[Object(A.jsx)("img",{style:{width:"80px",marginBottom:24},src:G,alt:"barndlogo"}),Object(A.jsxs)(U.a,{className:"login-form",onFinish:function(e){r(!0),p.a.get("/csrf-cookie").then((function(){p.a.post("/login",e).then((function(e){var a=e.data;localStorage.setItem("auth_name",a.name),i(q(a)),t(),j.push("/dash")})).catch((function(e){return R.b.error(e.response.data.message)}))})).finally((function(){return r(!1)}))},autoComplete:"off",size:"large",children:[Object(A.jsx)(U.a.Item,{name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d!"}],children:Object(A.jsx)(H.a,{prefix:Object(A.jsx)(N.a,{className:"site-form-item-icon"}),placeholder:"\u041b\u043e\u0433\u0438\u043d"})}),Object(A.jsx)(U.a.Item,{name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(A.jsx)(H.a.Password,{prefix:Object(A.jsx)(ye.a,{className:"site-form-item-icon"}),placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(A.jsx)(U.a.Item,{children:Object(A.jsx)(F.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:s,children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})},Se=function(){var e=Object(A.jsx)(Y.a,{style:{fontSize:44},spin:!0});return Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:Object(A.jsx)(W.a,{size:"large",indicator:e})})},Ie=(a(289),function(){var e=Object(l.b)(),t=c.a.useState(!1),a=Object(v.a)(t,2),n=a[0],s=a[1],r=c.a.useState(!1),i=Object(v.a)(r,2),j=i[0],o=i[1];return c.a.useEffect((function(){p.a.post("me").then((function(t){var a=t.data;e(q(a)),o(!0),s(!0)})).catch((function(){o(!0),s(!1)}))}),[]),n?Object(A.jsx)(M,{onSuccessLogout:function(){s(!1)}}):j?Object(A.jsx)(ve,{onLogin:function(){s(!0)}}):Object(A.jsx)(Se,{})});p.a.defaults.baseURL="http://oper.kolocall.com/api",p.a.defaults.withCredentials=!0,p.a.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status||419===e.response.status?(localStorage.getItem("auth_name")&&(localStorage.clear(),window.location.reload()),Promise.reject()):Promise.reject(e)})),r.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(f.a,{locale:y.a,children:Object(A.jsx)(i.a,{children:Object(A.jsx)(l.a,{store:h,children:Object(A.jsx)(Ie,{})})})})}),document.getElementById("root"))}},[[294,1,2]]]);
//# sourceMappingURL=main.3b2650b8.chunk.js.map